$npx create-react-app program9
$npm install axios

db.json

{
"employees": [
{ "id": 1, "firstName": "John", "lastName": "Doe", "email":
"john.doe@example.com" },
{ "id": 2, "firstName": "Jane", "lastName": "Smith", "email":
"jane.smith@example.com" }
]
}
$npx json-server --watch db.json --port 5000

Example - /src/App.js
import React, { useState, useEffect } from 'react';
import axios from 'axios';
import './App.css'; // For basic styling
// API URL
const API_URL = "http://localhost:5000/employees";
function App() {
// State to hold the list of employees
const [employees, setEmployees] = useState([]);
// State for the form data. 'null' if we are not editing/adding.
const [currentEmployee, setCurrentEmployee] = useState(null);
// Fetch employees when the component loads
useEffect(() => {
fetchEmployees();
}, []);
// R: Read employees from the API
const fetchEmployees = async () => {
const response = await axios.get(API_URL);
setEmployees(response.data);
};
// C & U: Handle form submission for Create and Update
const handleSave = async (employee) => {

if (employee.id) {
// Update existing employee
await axios.put(`${API_URL}/${employee.id}`, employee);
} else {
// Create new employee
await axios.post(API_URL, employee);
}
fetchEmployees(); // Refresh the list
setCurrentEmployee(null); // Hide the form
};
// D: Delete an employee
const handleDelete = async (id) => {
await axios.delete(`${API_URL}/${id}`);
fetchEmployees(); // Refresh the list
};
// Handlers to show the form
const handleAdd = () => {
setCurrentEmployee({ firstName: '', lastName: '', email: '' }); // Show
form with empty fields
};
const handleEdit = (employee) => {
setCurrentEmployee(employee); // Show form with pre-filled data
};
// If 'currentEmployee' is not null, show the form. Otherwise, show the
list.
if (currentEmployee) {
return <EmployeeForm employee={currentEmployee}
onSave={handleSave} onCancel={() => setCurrentEmployee(null)} />;
}
return (
<div className="container">
<h2>Employees List</h2>
<button onClick={handleAdd}>Add Employee</button>
<table>
<thead>
<tr>
<th>First Name</th>
<th>Last Name</th>
<th>Email</th>
<th>Actions</th>
</tr>
</thead>
<tbody>
{employees.map(emp => (
<tr key={emp.id}>
<td>{emp.firstName}</td>
<td>{emp.lastName}</td>
<td>{emp.email}</td>

<td>
<button onClick={() => handleEdit(emp)}>Edit</button>
<button onClick={() =>
handleDelete(emp.id)}>Delete</button>

</td>
</tr>
))}
</tbody>
</table>
</div>
);
}
// A simple form component defined in the same file
const EmployeeForm = ({ employee, onSave, onCancel }) => {
const [formData, setFormData] = useState({ ...employee });
const handleSubmit = (e) => {
e.preventDefault();
onSave(formData);
};
const handleChange = (e) => {
const { name, value } = e.target;
setFormData(prev => ({ ...prev, [name]: value }));
};
return (
<form onSubmit={handleSubmit}>
<h2>{formData.id ? 'Edit Employee' : 'Add Employee'}</h2>
<input name="firstName" value={formData.firstName}
onChange={handleChange} placeholder="First Name" required />
<input name="lastName" value={formData.lastName}
onChange={handleChange} placeholder="Last Name" required />
<input name="email" value={formData.email}
onChange={handleChange} placeholder="Email" required />
<button type="submit">Save</button>
<button type="button" onClick={onCancel}>Cancel</button>
</form>
);
};
export default App;
